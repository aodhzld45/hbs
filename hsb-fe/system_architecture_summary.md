
# 🧭 전체 아키텍처 구조 분해 설명

## 📌 1. 외부망 (Internet Zone)
**위치:** 구성도 최상단

### 💡 구성 요소:
- IDC Internet #1, #2 (30Mbps 이중화)
- 본사 Internet #2 (100Mbps)
- 지부 Internet

### 💡 역할:
- 일반 사용자 및 외부 시스템에서 들어오는 모든 요청의 시작점
- 내부 시스템과 직접 연결되지 않고, FW(방화벽) 및 DMZ를 통해 필터링

---

## 📌 2. DMZ Zone (DeMilitarized Zone)
**위치:** 구성도 오른쪽 하단

### 💡 구성 요소:
- DMZ WEB FW#1: 외부망과 내부망 사이의 방화벽
- DMZ L4#1, L4#2 (로드밸런서): TCP/HTTP 포트 기반 분산 처리
- DMZ L2#1, L2#2 (2계층 스위치): 웹 서버들이 실제 연결되어 있는 영역
- Trunk 라인: VLAN 다중 연결을 위한 스위치 간 통로

### 💡 역할:
- 외부에서 들어오는 요청을 받는 중간 지대
- 웹 서버, API 게이트웨이 등이 위치
- 내부망의 자산 보호를 위한 1차 보안 방어선
- L4 로드밸런서를 통해 웹 트래픽을 DMZ 서버에 분산

---

## 📌 3. Trust Zone (내부망의 핵심 보안망)
**위치:** 구성도 좌측 하단

### 💡 구성 요소:
- Trust L4#1, L4#2: 트래픽 분산, 포트 기반 제어
- Trust L2#1, L2#2: 내부 시스템 연결 스위치
- DB Server Farm
- NAC Controller: 사용자 인증 및 접근 제어 시스템
- 트랜잭션 스위치 → 금융망 연동 (신한카드, KIB Net 등)

### 💡 역할:
- 가장 민감한 데이터 (회원정보, 계약서, DB 등)가 있는 보호 구역
- NAC를 통해 사용자 및 장비 접근 제어
- 내부에서 생성된 트랜잭션이나 API 요청을 외부 금융망에 전달

---

## 📌 4. 본사 및 지부 네트워크
**위치:** 구성도 중앙 및 우측 상단

### 💡 구성 요소:
- Metro Switch, L2 Switch
- VPN 터널 (본사 VPN, 지부 VPN)
- 본사/지부 NAC Sensor

### 💡 역할:
- 지점 및 본사 네트워크와 IDC 간 안전한 통신을 위한 전용망 또는 VPN
- NAC Sensor를 통해 사내 단말의 보안 상태 및 인증 확인
- 내부 사용자는 VPN을 통해 Trust 영역 일부에 접근

---

## 🧱 레이어별 장비 및 역할 요약

| Layer | 장비 명칭 | 구성도 예시 | 역할 |
|-------|------------|--------------------|------------------------------|
| L2    | L2 Switch  | Trust L2#1, DMZ L2#1 | MAC 주소 기반 장비 연결, VLAN 구성 |
| L3    | L3 Switch / Router | L3 Switch#2 | IP 라우팅, 네트워크 구간 분리 |
| L4    | Load Balancer | DMZ L4#1, Trust L4#1 | 포트 기반 트래픽 분산, 세션 유지, 서비스 가용성 보장 |

---

## 🔄 예시 흐름: 사용자 → 웹서버 → DB

```
[외부 사용자 접속]
  ↓
IDC Internet → L3 Switch → IPS → FW
  ↓
DMZ WEB FW → DMZ L4 → DMZ L2 → Web Server
  ↓ 요청 데이터 필요 시
DMZ → 내부 FW → Trust L4 → Trust L2 → DB Server
```

---

## 🛡️ 보안 설계 포인트 요약

| 구역         | 보안 기능           | 설명                                     |
|--------------|----------------------|------------------------------------------|
| 외부 → DMZ   | DMZ 방화벽           | 인증 없이 내부망 접근 차단               |
| DMZ → 내부망 | 내부방화벽, ACL      | 특정 포트, IP만 허용                     |
| 본사/지부 VPN | NAC Sensor, VPN      | 사용자 단말 인증 후 내부망 연결          |
| 내부망 (Trust) | NAC Controller       | 장비 등록, 사용자 제어, 행위 기반 차단   |

---

## ✅ 정리 요약

| 구역     | 구성 요소               | 주요 역할                      |
|----------|------------------------|--------------------------------|
| 외부망   | IDC Internet, VPN, Metro | 외부 사용자 접속 시작점       |
| DMZ      | FW, L4, L2, Trunk       | 외부 요청 수신, 웹서버 배치   |
| 내부망 (Trust) | DB, NAC, 금융망         | 보안 강화된 핵심 자산 영역     |
| L2~L4    | 스위치, 로드밸런서     | VLAN 구성, 트래픽 분산, 포트 기반 서비스 제공 |
